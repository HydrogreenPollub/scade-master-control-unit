-- version swan: 2025.1 graph: 2.0 swant: 1.1
use SignalConditioning;

use DataTransmission;

_harness TestingLinearMapping
{
  diagram
    (#0 expr 0_i16 pre 150_i16 pre 300_i16 pre 500_i16 pre 800_i16
    #pragma diagram {"xy":"H-14775;V-20977","wh":"54000;3200"} #end)
    (#1 expr 30_i16
    #pragma diagram {"xy":"H7225;V-35777","wh":"10000;3200"} #end)
    (#2 expr 1023_i16
    #pragma diagram {"xy":"H6225;V-32077","wh":"12000;3200"} #end)
    (#3 expr -30_i16
    #pragma diagram {"xy":"H6225;V-28377","wh":"12000;3200"} #end)
    (#4 expr 0_i16
    #pragma diagram {"xy":"H7225;V-24677","wh":"10000;3200"} #end)
    (#5 $mapping #pragma swt under_test #end block SignalConditioning::LinearMapping
                                                   #pragma diagram {"xy":"H44425;V-28377","wh":"20000;14000"} #end)
    
    (#6 wire #4 => #5 .(fromLow))
    (#7 wire #0 => #5 .(value)
    #pragma diagram {"wp":"#0 h17150 v-2166 #5"} #end)
    (#8 wire #1 => #5 .(toHigh)
    #pragma diagram {"wp":"#1 h8050 v2167 #5"} #end)
    (#9 wire #3 => #5 .(toLow))
    (#10 wire #2 => #5 .(fromHigh))
}

_harness TestingDebouncing
{
  diagram
    (#0 expr true pre true pre true pre false pre true pre true pre true pre true
    #pragma diagram {"xy":"H-13475;V2975","wh":"68000;3200"} #end)
    (#1 #pragma swt under_test #end block SignalConditioning::Debouncing
                                          #pragma diagram {"xy":"H46025;V2975","wh":"20000;14000"} #end)
    
    (#2 wire #0 => #1 .(i0))
}

_harness TestingInt16to2uint8
{
  diagram
    (#0 block (_oracle Int16to2uint8_outputs)
    #pragma diagram {"xy":"H0;V0","wh":"12000;7000"} #end)
    (#1 #pragma swt under_test #end block DataTransmission::Int16to2uint8
                                          #pragma diagram {"xy":"H-35000;V0","wh":"20000;14000"} #end)
    (#2 expr  0_i16 pre 0_i16 pre 0_i16 pre 256_i16 pre 1_i16 pre 32000_i16
    #pragma diagram {"xy":"H-84750;V-450","wh":"64000;3200"} #end)
    
    (#3 wire #1 => #0
    #pragma diagram {"wp":"v0|#1 #0"} #end)
    (#4 wire #2 => #1 .(i0))
}
